<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Car Racing Game</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      overflow: hidden;
      background: linear-gradient(120deg, #1e3c72, #2a5298, #1e3c72);
      background-size: 300% 300%;
      animation: bgmove 12s ease infinite;
      font-family: 'Segoe UI', sans-serif;
    }

    @keyframes bgmove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .game-area {
      position: relative;
      width: 400px;
      height: 600px;
      margin: 30px auto;
      border: 3px solid #fff;
      background: #222;
      overflow: hidden;
      box-shadow: 0 0 30px #00f2ff88, 0 0 50px #00f2ff44;
      border-radius: 12px;
    }

    .road-line {
      position: absolute;
      width: 10px;
      height: 80px;
      background: #fff;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      animation: roadScroll 1s linear infinite;
    }

    @keyframes roadScroll {
      0% { top: -100px; }
      100% { top: 100%; }
    }

    .car {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 50px;
      height: 100px;
      background: linear-gradient(145deg, #ff3c3c, #aa0000);
      border-radius: 10px;
      box-shadow: 0 0 15px #ff5555, 0 0 25px #ff0000aa;
      transition: left 0.1s linear;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .car::before {
      content: '';
      position: absolute;
      top: 10px;
      width: 30px;
      height: 10px;
      background: #fff;
      border-radius: 5px;
    }

    .obstacle {
      position: absolute;
      width: 50px;
      height: 100px;
      background: linear-gradient(145deg, #00f2ff, #005577);
      border-radius: 10px;
      top: -120px;
      box-shadow: 0 0 10px #00f2ff99, 0 0 20px #00f2ff66;
    }

    .game-over {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #fff;
      font-size: 2rem;
      background: rgba(0, 0, 0, 0.7);
      padding: 20px 30px;
      border-radius: 10px;
      display: none;
    }
  </style>
</head>
<body>

  <div class="game-area" id="gameArea">
    <div class="car" id="playerCar"></div>
    <div class="game-over" id="gameOverText">ðŸ’¥ Game Over!<br>Refresh to Play Again</div>
  </div>

  <script>
    const gameArea = document.getElementById("gameArea");
    const playerCar = document.getElementById("playerCar");
    const gameOverText = document.getElementById("gameOverText");

    let playerX = 175;
    let obstacles = [];

    function createRoadLines() {
      for (let i = 0; i < 5; i++) {
        const line = document.createElement("div");
        line.classList.add("road-line");
        line.style.top = i * 150 + "px";
        gameArea.appendChild(line);
      }
    }

    function createObstacle() {
      const obs = document.createElement("div");
      obs.classList.add("obstacle");
      obs.style.left = Math.floor(Math.random() * 350) + "px";
      gameArea.appendChild(obs);
      obstacles.push(obs);
    }

    function moveObstacles() {
      for (let i = 0; i < obstacles.length; i++) {
        const obs = obstacles[i];
        let top = parseInt(obs.style.top.replace("px", "")) || -100;
        if (top > 600) {
          obs.remove();
          obstacles.splice(i, 1);
          i--;
        } else {
          obs.style.top = top + 5 + "px";
          if (checkCollision(obs)) {
            gameOver();
          }
        }
      }
    }

    function checkCollision(obstacle) {
      const carRect = playerCar.getBoundingClientRect();
      const obsRect = obstacle.getBoundingClientRect();
      return !(
        carRect.top > obsRect.bottom ||
        carRect.bottom < obsRect.top ||
        carRect.left > obsRect.right ||
        carRect.right < obsRect.left
      );
    }

    function gameOver() {
      gameOverText.style.display = "block";
      clearInterval(gameLoop);
      clearInterval(obstacleLoop);
    }

    function updatePlayerPosition() {
      playerCar.style.left = playerX + "px";
    }

    function handleKeys(e) {
      if (e.key === "ArrowLeft" || e.key === "a") {
        if (playerX > 10) playerX -= 15;
      } else if (e.key === "ArrowRight" || e.key === "d") {
        if (playerX < 340) playerX += 15;
      }
      updatePlayerPosition();
    }

    document.addEventListener("keydown", handleKeys);

    createRoadLines();
    updatePlayerPosition();

    const gameLoop = setInterval(() => {
      moveObstacles();
    }, 30);

    const obstacleLoop = setInterval(() => {
      createObstacle();
    }, 1000);
  </script>

</body>
</html>
